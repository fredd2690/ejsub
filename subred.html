<!DOCTYPE html>
<html>
<head>
	<title></title>
<meta charset="utf8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="js/jquery-2.1.1.min.js"></script>
  <script src="js/bootstrap.js"></script>
   <script src="phonegap.js"></script>
	<link rel="stylesheet" href="css/bootstrap.css">
<script>
	var oct1= null, oct2= null, oct3= null, oct4= null;
	var octetos=[];
	var bits_disp;
	var bits_nec;
	var bits_host;
	var ipsubredc=[];
	var ipsubredb=[];
   var ipsubred4c=[];
   var ipsubredc_broadcast=[];
	var bits_hostb=0;
   var bits_hostc=0;
   var flag_ip;
	var n=8;
   var cont=0;
   var incremento=0;
  var caso=0; //1 c normal 2 b normal 3  b= se necesitan bits de oct4
  var array_aux=[];
  var val_broadcast=0;
  var potencia1;
  var potencia2;
  var ngetsubredes=0;
  var ntotalHost=0;
  var limite=49;
  var mascara_x_defecto=0;
  var maskara=0;
  var binsubmas="";
  var niumascara=0;
	$(document).ready(function(){

    $('#showm').hide();
    $('#todas_sub').hide();
     $('#lb_submask').hide();
		
		$('#dividir').click(function(){
           if(!camposVacios()){
               getOct($('#txtip').val());
               if(isValidIp(octetos)){
                  bits_disp=getBitsDisp();
                 console.log("nbit disponibles "+bits_disp);
                 if($('#nsub').val().length>0){
                  console.log("calculando n hosts para subredes="+$('#nsub').val().length);
                    bits_nec=getBitsNec(getNSub(),bits_disp);
                   console.log("bit nec="+bits_nec);
                   bits_host=bits_disp-bits_nec;
                   //if(bits_host>1){
                   if(bits_nec>0){
                        console.log("bit hosts="+bits_host);
                        if(bits_host>1){
                           getNhostxsubred(bits_host,true);
                           $('#nhos').val(getNhostxsubred(bits_host,true));
                           if(bits_disp>8){
                              //dir b
                              presentarb(true);
                           }else{
                              getFirstValidSubred(true);
                           getLastValidSubred();
                           presentarc(true);
                          }
                        }
                        else{
                            if(bits_host==0){
                              alert("No hay suficientes bits para hosts!");
                            }
                            else{
                                 alert("RFC 3021 No aplicable");
                            }
                           
                        }
                    
                   }
                   else{
                         alert("No hay suficientes bits para generar subredes!");
                        
                   }
                 calc_submask(bits_nec,caso);
                 }
                 else{ //obten subredes a partir de hosts
                  console.log("calculando subredes a partir de n hosts");
                  getNHost();
                    bits_nec=getBitsNec(ntotalHost,bits_disp);
                    console.log("nec="+bits_nec+" para hosts");
                    if(bits_nec<0){
                        alert("No hay suficientes bits para generar subredes !");
                    }
                    else{
                        bits_host=bits_disp-bits_nec;//bits_host será para guardar los bits para subred 
                        console.log("bit para subred="+bits_host);
                        getNhostxsubred(bits_host,false);
                        $('#nsub').val(getNhostxsubred(bits_host,false));//colocar en la caja txt el num de subredes q se pueden generar
                          if(bits_disp>8){
                          //dir b
                          presentarb(false);
                       }else{
                           getFirstValidSubred(false);
                       presentarc(false)
                      }
                    }
             
                    calc_submask(bits_host,caso);

                 }
               $('#lb_submask').show();
               }
               else{
                alert("Ha ingresado una ip invalida");
                $('#txtip').focus();
               }
            
            }
         else{
            alert("ha dejado uno o más campos vacíos");
         }
		});

    $('#limpiar').click(function(){
      $('#txtip').val("");
      $('#nsub').val("");
      $('#mask').val("");
      $('#nhos').val("");
      $('#resultb').html("");
       $('#showm').hide();
        $('#todas_sub').hide();
       ipsubredc.length=0;
       ipsubredb.length=0;
       ipsubred4c.length=0;
       ipsubredc_broadcast.length=0;
       $('#submascara').text("");
        $('#lb_submask').hide();

    });

    $('#showm').click(function(){
      var html="";
      html+="<table class='table table-bordered fontsmall_bold'><tr><td>SUBRED</td><td>RANGO HOST</td><td>BROADCAST</td></tr>";
      if(ipsubredc.length>=18){
        $('#todas_sub').css("height","auto");
      }
      else{
         $('#todas_sub').css("height","100%");
      }

      switch(caso){


        case 1:
              for(var i=0; i<ipsubredc.length; i++){
                if(i>limite){
                  break;
                }
                else{
                    html+="<tr><td>"+octetos[0]+"."+octetos[1]+"."+octetos[2]+"."+ipsubredc[i]+"</td><td>"+octetos[0]+"."+octetos[1]+"."+octetos[2]+"."+(ipsubredc[i]+1)+"-"+octetos[0]+"."+octetos[1]+"."+octetos[2]+"."+(ipsubredc[i]+(val_broadcast-1))+"</td><td>"+octetos[0]+"."+octetos[1]+"."+octetos[2]+"."+(ipsubredc[i]+val_broadcast)+"</td></tr>";
                }

            }
        break;
        case 2:

              for(var i=0; i<ipsubredc.length; i++){
                 if(i>limite){
                  break;
                }
                else{
                if(i==ipsubredc.length-1){
                    html+="<tr><td>"+octetos[0]+"."+octetos[1]+"."+ipsubredc[i]+".0</td>"+
              "<td>"+octetos[0]+"."+octetos[1]+"."+ipsubredc[i]+".1-"+octetos[0]+"."+octetos[1]+"."+(ipsubredc[ipsubredc.length-1])+".254</td><td>"+octetos[0]+"."+octetos[1]+"."+(ipsubredc[ipsubredc.length-1])+".255</td></tr>"; 
                }
                else{
                    html+="<tr><td>"+octetos[0]+"."+octetos[1]+"."+ipsubredc[i]+".0</td>"+
              "<td>"+octetos[0]+"."+octetos[1]+"."+ipsubredc[i]+".1-"+octetos[0]+"."+octetos[1]+"."+(ipsubredc[i+1]-1)+".254</td><td>"+octetos[0]+"."+octetos[1]+"."+(ipsubredc[i+1]-1)+".255</td></tr>"; 
                }
              }
     
        }

        
        break;
        case 3:
                for(var i=0; i<ipsubredc.length; i++){
                  array_aux= ipsubredc[i].split(".");
                  if(i>limite){
                    break;
                  }
                  else{
                    html+="<tr><td>"+ipsubredc[i]+"</td>"+
                    "<td>"+array_aux[0]+"."+array_aux[1]+"."+array_aux[2]+"."+(parseInt(array_aux[3])+1)+"-"+array_aux[0]+"."+array_aux[1]+"."+array_aux[2]+"."+(parseInt(array_aux[3])+incremento)+"</td><td>"+array_aux[0]+"."+array_aux[1]+"."+(array_aux[2])+"."+(parseInt(array_aux[3])+(incremento+1))+"</td></tr>"; 
                  }
                }

          break;
        }
     
 
       
        html+="</table>";
          $('#siguiente').html(html);
        $('#todas_sub').show();
    });
      $('#bt_home').click(function(){
        $('#todas_sub').hide();
    });

	});

   function all_numbers(){

   }

   function camposVacios(){
      if(($('#txtip').val().length<1)||($('#mask').val().length<1)||($('#nsub').val().length<1)){
         if($('#nhos').val().length<1){
            return true;
         }
         else{
            return false;
         }
         
      }
      else{
         
      }

   }
   function isValidIp(array_ip){
    var b=true;
    if((array_ip.length>4)||(array_ip.length<4)){
      b=false;
    }
    else{
       for(var j=0; j<array_ip.length; j++){
      if(isNaN(array_ip[j])) {
        b=false;
      }
      else{
        if(array_ip[j]<0){
          b=false;
        }
      }
    }
    if(b){
      if((array_ip[0]>223)||(array_ip[0]==127)||(array_ip[0]>223)){
        b=false;
      }
      else{
           if((array_ip[1]>255)||(array_ip[2]>255)||(array_ip[0]>255)){
              b=false;
           }
      }
    }
    }
   

    return b;
   }



	function getOct(st_ip){
		//console.log("oc="+oct1);
		octetos = st_ip.split(".");

		//console.log(octetos[1]+" b="+getbin(octetos[1],2));
   /* if(octetos[0]<127){
      mascara_x_defecto=8;
    }
    else{
        if((octetos[0]>127)&&(octetos[0]<=191)){
            mascara_x_defecto=16;
        }
        else{
            if((octetos[0]>191)&&(octetos[0]<=223)){
                mascara_x_defecto=24;
            }

        }

        }*/

    }
	

	    function getbin(numero){ 
        var iNumero = new Number(numero);    
        return (iNumero.toString(2)); 
   		}
   		function getDec(numero){ 
        var iNumero = parseInt(numero,2);    
        return iNumero; 
   		}

   		function getBitsDisp(){
          maskara=parseInt($('#mask').val()); 
          return parseInt(32-$('#mask').val()); 

   		}

   		function getNSub(){
          ngetsubredes=parseInt($('#nsub').val());
          return parseInt($('#nsub').val());
          
   		}

      function getNHost(){
            ntotalHost=parseInt($('#nhos').val());
            ntotalHost+=2;
            console.log("host caja +2 ="+ntotalHost);
//            return parseInt($('#nhos').val());

      }

   		function getBitsNec(nsubredes,nbitsdis){
   			console.log("nsubr="+nsubredes);
   			var opt;
   			for(var i=0; i<=nbitsdis; i++){//i=1 i<nbitsdis
   				opt=Math.pow(2, i);
   				if(opt>=nsubredes){
   					opt=i;
   					break;
   				}
          else{
            opt=-1;
          }
   			}
        console.log("opt="+opt);
   			return opt;
   		}
   		function getNhostxsubred(nbit,is_subred){
   			nbit=parseInt(nbit),
   			console.log(nbit);
          var hosts=Math.pow(2, nbit);
        if(is_subred){
          console.log("host x red="+(hosts-2));
          return hosts-2;
        }
        else{
          ngetsubredes=hosts;
           console.log("subredes generadas="+hosts);

          return hosts;

        }   	
   		

   			
   		}

   		function getFirstValidSubred(is_subred){
          var f= "1";
        if(is_subred){
              for (var i = 0; i<bits_host; i++) {
              f+="0"; 
              }
        }
        else{
          for (var i = 0; i<bits_nec; i++) {
              f+="0"; 
              }
          
        }
   			console.log("f="+f);
   			f=parseInt(f,2);
   			console.log("dec f="+f);
        incremento=f;//variable para obt la siguiente subred
   			return f;
   		}

   		function getLastValidSubred(nbits_subred){
   			var f= "1";
   			for (var i = 0; i<bits_nec-1 ; i++) {
   			f+="0";	
   			}
   			for (var i = 0; i<= bits_host; i++) {
   			f+="0";	
   			}
   			console.log("f="+f);
   			f=parseInt(f,2);
   			console.log("dec f="+f);
   			return f;
   		}

   		function presentarc(is_subred){
        caso=1;
   			var html="<table class='table table-bordered fontsmall_bold'><tr><td>IP RED</td><td>RANGO HOST</td><td>BROADCAST</td></tr>";
   			var base=0;
        val_broadcast=incremento-1;
          ipsubredc[0]=0;
           for(var i=1; i<ngetsubredes; i++){
          base+=incremento;
   				ipsubredc[i]=base;
   			}
        if(ipsubredc.length>10){
            for(var l=0; l<10; l++){
                  html+="<tr><td>"+octetos[0]+"."+octetos[1]+"."+octetos[2]+"."+ipsubredc[l]+"</td><td>"+octetos[0]+"."+octetos[1]+"."+octetos[2]+"."+(ipsubredc[l]+1)+"-"+octetos[0]+"."+octetos[1]+"."+octetos[2]+"."+(ipsubredc[l]+(val_broadcast-1))+"</td><td>"+octetos[0]+"."+octetos[1]+"."+octetos[2]+"."+(ipsubredc[l]+val_broadcast)+"</td></tr>";
                  
            }
             html+="</table>";

             $('#resultb').html(html);
            $('#showm').show();

        }
        else{
            for(var l=0; l<ipsubredc.length; l++){
   
                  html+="<tr><td>"+octetos[0]+"."+octetos[1]+"."+octetos[2]+"."+ipsubredc[l]+"</td><td>"+octetos[0]+"."+octetos[1]+"."+octetos[2]+"."+(ipsubredc[l]+1)+"-"+octetos[0]+"."+octetos[1]+"."+octetos[2]+"."+(ipsubredc[l]+(val_broadcast-1))+"</td><td>"+octetos[0]+"."+octetos[1]+"."+octetos[2]+"."+(ipsubredc[l]+val_broadcast)+"</td></tr>";
            }
             html+="</table>";
               $('#resultb').html(html);

        }
   		}
   		function presentarb(is_subred){
   			console.log("presentando b");
   			var html="<table class='table table-bordered fontsmall_bold'><tr><td>SUBRED</td><td>RANGO HOST</td><td>BROADCAST</td></tr>";
   			var base;
        var base4c;
        var bits3c=0;
   			bits3c=bits_disp-8;
   			var bitsqnec4c;
        var sredb=0;
   			//console.log(bits3c);
   			bits3c=parseInt(bits3c);
        if(is_subred){
            sredb=bits3c-bits_nec;
            bits_hostb=n-sredb;//bits host oct3
        console.log("bits 3c="+bits3c);
        if(bits_nec>bits3c){
          caso=3;
          incremento=parseInt($('#nhos').val());
               //escoger sig oct4
                  bitsqnec4c=bits_nec-bits3c;
                  console.log("nec "+bitsqnec4c+" del oct4");
                  bits_hostc=8-bitsqnec4c;
                  console.log("bits 4c host= "+bits_hostc+"");
                  potencia1=Math.pow(2,bits3c);
                  potencia2=Math.pow(2,bitsqnec4c);
                  for(var i=0; i<potencia1; i++){
                  base=getbin(i);
                   base=getDec(base)
                  for(var j=0; j<potencia2; j++){ 
                  base4c=getbin(j);  
                     for(var k=0; k<bits_hostc; k++){
                        base4c+="0";
                     }
                     base4c=getDec(base4c);
                      ipsubredc[cont]=""+octetos[0]+"."+octetos[1]+"."+base+"."+base4c;
                     cont++;
                  }

               }

        } 
           
          else{
          caso=2;
          incremento=8-bits_nec;
          for(var i=0; i<getNSub(); i++){
          base=getbin(i);
          for(var j=0; j<sredb; j++){
            base+="0";
          }
          base=getDec(base);
          console.log("base="+base);
          ipsubredc[i]=base;
        }
        }
        }
        else{
            //CASO EN QUE SE CALCÚLA EL N DE SUBREDES EN BASE A N DE HOSTS
            //sredb= n de bits que necesito del 3c para obtener el n de hosts
            if(bits_host>8){
                caso=3;  
                 incremento=Math.pow(2,bits_nec);
                 incremento=incremento-2;
                bitsqnec4c=8-bits_nec;
                  console.log("nec "+bitsqnec4c+" del oct4");
                  sredb=bits_host-bitsqnec4c; //n bits del 3c para las subredes 
                  console.log("bits 3c host= "+bits_nec+"");
                  potencia1=Math.pow(2,sredb);
                  potencia2=Math.pow(2,bitsqnec4c);
                  for(var i=0; i<potencia1; i++){
                      base=getbin(i);
                      base=getDec(base)
                      for(var j=0; j<potencia2; j++){ 
                      base4c=getbin(j);  
                      for(var k=0; k<bits_nec; k++){
                          base4c+="0";
                      }
                  base4c=getDec(base4c);
                  ipsubredc[cont]=""+octetos[0]+"."+octetos[1]+"."+base+"."+base4c;
                  cont++;
                  }
               }
            }

            else{
          caso=2;
            sredb=bits3c-bits_host;
               incremento=Math.pow(2,sredb);
            console.log("sredb="+sredb);
            for(var i=0; i<getNSub(); i++){
                base=getbin(i);
                for(var j=0; j<sredb; j++){
                  base+="0";
                }
                base=getDec(base);
                ipsubredc[i]=base;
            }

   

          }//end bits_hosts>8
        }
   			 //sredb=bits3c-bits_nec;
   			
   		if(caso==2){
              for(var l=0; l<10; l++){
                      if(l==ipsubredc.length-1){
                           html+="<tr><td>"+octetos[0]+"."+octetos[1]+"."+ipsubredc[l]+".0</td>"+
                      "<td>"+octetos[0]+"."+octetos[1]+"."+ipsubredc[l]+".1-"+octetos[0]+"."+octetos[1]+"."+(ipsubredc[l]-1)+".254</td><td>"+octetos[0]+"."+octetos[1]+"."+(ipsubredc[l]-1)+".255</td></tr>"; 
                      }
                else{
                      html+="<tr><td>"+octetos[0]+"."+octetos[1]+"."+ipsubredc[l]+".0</td>"+
                    "<td>"+octetos[0]+"."+octetos[1]+"."+ipsubredc[l]+".1-"+octetos[0]+"."+octetos[1]+"."+(ipsubredc[l+1]-1)+".254</td><td>"+octetos[0]+"."+octetos[1]+"."+(ipsubredc[l+1]-1)+".255</td></tr>"; 
                    }


              }
              html+="</table>";
      }
      else{//caso 3
             for(var l=0; l<10; l++){
                      array_aux=ipsubredc[l].split(".");
                       html+="<tr><td>"+ipsubredc[l]+"</td>"+
              "<td>"+array_aux[0]+"."+array_aux[1]+"."+array_aux[2]+"."+(parseInt(array_aux[3])+1)+"-"+array_aux[0]+"."+array_aux[1]+"."+array_aux[2]+"."+(parseInt(array_aux[3])+incremento)+"</td><td>"+array_aux[0]+"."+array_aux[1]+"."+(array_aux[2])+"."+(parseInt(array_aux[3])+(incremento+1))+"</td></tr>"; 
              
                }
                  html+="</table>";     
      }

      $('#resultb').html(html);
       if(ipsubredc.length>10){
           $('#showm').show();
       }
   			
   		}

   		function ips_x_subred(ip_subred){


   		}

      function calc_submask(bsubred,ncaso){
        console.log("bits rec="+bsubred);
         niumascara=maskara+bsubred;
         binsubmas="";
         var bh=0;
         var bd=0;
         var bitsrelleno_iz=0;
         var clase="";
         var n_oct_ocup=0;
          if(niumascara<=24){//A
                 bd=niumascara-maskara;
                // bd=8-bd;
                 bh=8-bd;
                 clase="b";//3oct libre
          }
          else{
              if(niumascara>24){
                  bd=niumascara-24;
                  //bd=8-bd;
                  bh=8-bd;
                  clase="c";//4oct libre
              }
              else{
                  /* bd=32-maskara;
                   bd=8-bd;
                   bh=8-(bd+bsubred);
                   clase="c";*/
                 //$('#submascara').text("/"+niumascara+" ó "+octetos[0]+"."+octetos[1]+"."+octetos[2]+"."+binsubmas);
              }

          }
         // bitsrelleno_i=8-bd;
         console.log("bd="+bd+" bh="+bh+" clase="+clase);
         
          for(var i=0; i<bd; i++){
            binsubmas+="1";
          }
          for(var j=0; j<bh; j++){
            binsubmas+="0";
          }
            console.log("binsubmas="+binsubmas);
            binsubmas=getDec(binsubmas);
            switch(ncaso){
              case 1:
               // $('#submascara').text("/"+niumascara+" ó 255."+binsubmas+".0.0");
                  $('#submascara').text("/"+niumascara+" ó 255.255.255."+binsubmas);
                break;
              case 2:
               // $('#submascara').text("/"+niumascara+" ó 255.255."+binsubmas+".0");
               $('#submascara').text("/"+niumascara+" ó 255.255."+binsubmas+".0");
                break;
              case 3:
               // $('#submascara').text("/"+niumascara+" ó 255.255.255."+binsubmas);
               $('#submascara').text("/"+niumascara+" ó 255.255.255."+binsubmas+"");
                break;
            }
      }



</script>
<style>
.fontsmall_bold{
font-size: 10px;
font-weight: bold;
margin-left: 2px;
padding: 1px 1px 1px 1px; 
}

html,body{
margin:0px;
height:100%;
}
  #todas_sub{
    border-color: #2A93FC;
    border-style: solid;
    border-width: 4px;

   background: #f0f9ff; /* Old browsers */
background: -moz-linear-gradient(top,  #f0f9ff 96%, #cbebff 100%, #a1dbff 100%); /* FF3.6+ */
background: -webkit-gradient(linear, left top, left bottom, color-stop(96%,#f0f9ff), color-stop(100%,#cbebff), color-stop(100%,#a1dbff)); /* Chrome,Safari4+ */
background: -webkit-linear-gradient(top,  #f0f9ff 96%,#cbebff 100%,#a1dbff 100%); /* Chrome10+,Safari5.1+ */
background: -o-linear-gradient(top,  #f0f9ff 96%,#cbebff 100%,#a1dbff 100%); /* Opera 11.10+ */
background: -ms-linear-gradient(top,  #f0f9ff 96%,#cbebff 100%,#a1dbff 100%); /* IE10+ */
background: linear-gradient(to bottom,  #f0f9ff 96%,#cbebff 100%,#a1dbff 100%); /* W3C */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#f0f9ff', endColorstr='#a1dbff',GradientType=0 ); /* IE6-9 */


    height: 100%;
    width: 100%;
  }
  .bt_mostrartodoas{
    border-color: #2A93FC;
    border-style: solid;
    border-width: 2px;

    background: rgba(212,228,255,1);
background: -moz-linear-gradient(top, rgba(212,228,255,1) 0%, rgba(212,228,255,1) 98%, rgba(134,174,204,1) 100%);
background: -webkit-gradient(left top, left bottom, color-stop(0%, rgba(212,228,255,1)), color-stop(98%, rgba(212,228,255,1)), color-stop(100%, rgba(134,174,204,1)));
background: -webkit-linear-gradient(top, rgba(212,228,255,1) 0%, rgba(212,228,255,1) 98%, rgba(134,174,204,1) 100%);
background: -o-linear-gradient(top, rgba(212,228,255,1) 0%, rgba(212,228,255,1) 98%, rgba(134,174,204,1) 100%);
background: -ms-linear-gradient(top, rgba(212,228,255,1) 0%, rgba(212,228,255,1) 98%, rgba(134,174,204,1) 100%);
background: linear-gradient(to bottom, rgba(212,228,255,1) 0%, rgba(212,228,255,1) 98%, rgba(134,174,204,1) 100%);
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#d4e4ff', endColorstr='#86aecc', GradientType=0 );
  }
  .bgbody{
  
  }
  .responsive_h{
    height: auto;
  }

</style>
</head>
<body>
<div class="bgbody">
   <div class="panel panel-info">
    <div class="panel-heading">
         <h2 class="panel-title">Cálculo de Subredes</h2>
    </div>
    <div class="panel-body">
       <div class="col-xs-5 col-sm-5 col-lg-5">
             <label>IP:</label> 
       </div>
       <div class="col-xs-7 col-sm-7 col-lg-7">
       <input type="text" id="txtip" class="form-control"> 
        </div>
       <div class="col-xs-5 col-sm-5 col-lg-5">
            <label>Máscara :</label>   
       </div>
       <div class="col-xs-7 col-sm-7 col-lg-7">
       <input type="number" id="mask" class="form-control">  
        </div>
      <div class="col-xs-5 col-sm-5 col-lg-5">
            <label>Subredes :</label>  
       </div>
        <div class="col-xs-7 col-sm-7 col-lg-7">
            <input type="number" id="nsub" class="form-control"> 
        </div>
        <div class="col-xs-5 col-sm-5 col-lg-5">
            <label>Nº Hosts:</label>  
       </div>
        <div class="col-xs-7 col-sm-7 col-lg-7">
            <input type="number" id="nhos" class="form-control">
        </div>
       <div class="col-xs-12 col-sm-12 col-lg-12">
            <button id="dividir" class="btn btn-success">Obtener subredes</button>
            <button id="limpiar" class="btn btn-warning">Borrar</button>
        </div>
       <div class="col-xs-12 col-sm-12 col-lg-6">
         <label>Resultado</label>  
        </div>
        <div class="col-xs-6 col-sm-6 col-lg-6">
         <label id="lb_submask">Sub-Máscara:</label>  
        </div>
        <div class="col-xs-6 col-sm-6 col-lg-6">
          <small id="submascara"></small>
        
        </div>
          <div class="col-xs-12 col-sm-12 col-lg-6">
         <div id="resultb">
            
         </div>
        </div> 
          <div class="col-xs-12 col-sm-12 col-lg-12">
          <!--
 <button id="showm" class="btn bt_mostrartodoas">Mostrar todas..</button>

        -->
        <a href="#next" class="btn bt_mostrartodoas" id="showm">Mostrar todas..</a>
                 </div> 

    </div>
	</div>

	<div></div>
  </div>

  <div id="todas_sub" class="responsive_h">
    <a name="next"></a>
        <div class="">
         <div id="siguiente"></div>
         <div>
           <button id="bt_home" class="btn bt_mostrartodoas">Atrás</button>
         </div>
         
        </div>
  </div>
</body>
</html>
